{"remainingRequest":"/home/dnyaneshwar/scriptlansProjects/uaswitchingwebsiteangular/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--8-1!/home/dnyaneshwar/scriptlansProjects/uaswitchingwebsiteangular/node_modules/ngx-bootstrap/datepicker/bs-daterangepicker-input.directive.js","dependencies":[{"path":"/home/dnyaneshwar/scriptlansProjects/uaswitchingwebsiteangular/node_modules/ngx-bootstrap/datepicker/bs-daterangepicker-input.directive.js","mtime":1553751054634},{"path":"/home/dnyaneshwar/scriptlansProjects/uaswitchingwebsiteangular/node_modules/cache-loader/dist/cjs.js","mtime":1553751054150},{"path":"/home/dnyaneshwar/scriptlansProjects/uaswitchingwebsiteangular/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1553751053666}],"contextDependencies":[],"result":["import { ChangeDetectorRef, Directive, ElementRef, forwardRef, Host, Renderer2 } from '@angular/core';\nimport { NG_VALIDATORS, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { parseDate } from '../chronos/create/local';\nimport { formatDate } from '../chronos/format';\nimport { getLocale } from '../chronos/locale/locales';\nimport { isAfter, isBefore } from '../chronos/utils/date-compare';\nimport { isArray, isDateValid } from '../chronos/utils/type-checks';\nimport { BsDaterangepickerDirective } from './bs-daterangepicker.component';\nimport { BsLocaleService } from './bs-locale.service';\nvar BS_DATERANGEPICKER_VALUE_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    // tslint:disable-next-line\n    useExisting: forwardRef(function () { return BsDaterangepickerInputDirective; }),\n    multi: true\n};\nvar BS_DATERANGEPICKER_VALIDATOR = {\n    provide: NG_VALIDATORS,\n    useExisting: forwardRef(function () { return BsDaterangepickerInputDirective; }),\n    multi: true\n};\nvar BsDaterangepickerInputDirective = /** @class */ /*@__PURE__*/ (function () {\n    function BsDaterangepickerInputDirective(_picker, _localeService, _renderer, _elRef, changeDetection) {\n        var _this = this;\n        this._picker = _picker;\n        this._localeService = _localeService;\n        this._renderer = _renderer;\n        this._elRef = _elRef;\n        this.changeDetection = changeDetection;\n        this._onChange = Function.prototype;\n        this._onTouched = Function.prototype;\n        this._validatorChange = Function.prototype;\n        // update input value on datepicker value update\n        this._picker.bsValueChange.subscribe(function (value) {\n            _this._setInputValue(value);\n            if (_this._value !== value) {\n                _this._value = value;\n                _this._onChange(value);\n                _this._onTouched();\n            }\n            _this.changeDetection.markForCheck();\n        });\n        // update input value on locale change\n        this._localeService.localeChange.subscribe(function () {\n            _this._setInputValue(_this._value);\n        });\n    }\n    BsDaterangepickerInputDirective.prototype._setInputValue = function (date) {\n        var range = '';\n        if (date) {\n            var start = !date[0] ? ''\n                : formatDate(date[0], this._picker._config.rangeInputFormat, this._localeService.currentLocale);\n            var end = !date[1] ? ''\n                : formatDate(date[1], this._picker._config.rangeInputFormat, this._localeService.currentLocale);\n            range = (start && end) ? start + this._picker._config.rangeSeparator + end : '';\n        }\n        this._renderer.setProperty(this._elRef.nativeElement, 'value', range);\n    };\n    BsDaterangepickerInputDirective.prototype.onChange = function (event) {\n        this.writeValue(event.target.value);\n        this._onChange(this._value);\n        this._onTouched();\n    };\n    BsDaterangepickerInputDirective.prototype.validate = function (c) {\n        var _value = c.value;\n        if (_value === null || _value === undefined || !isArray(_value)) {\n            return null;\n        }\n        var _isDateValid = isDateValid(_value[0]) && isDateValid(_value[0]);\n        if (!_isDateValid) {\n            return { bsDate: { invalid: _value } };\n        }\n        if (this._picker && this._picker.minDate && isBefore(_value[0], this._picker.minDate, 'date')) {\n            return { bsDate: { minDate: this._picker.minDate } };\n        }\n        if (this._picker && this._picker.maxDate && isAfter(_value[1], this._picker.maxDate, 'date')) {\n            return { bsDate: { maxDate: this._picker.maxDate } };\n        }\n    };\n    BsDaterangepickerInputDirective.prototype.registerOnValidatorChange = function (fn) {\n        this._validatorChange = fn;\n    };\n    BsDaterangepickerInputDirective.prototype.writeValue = function (value) {\n        var _this = this;\n        if (!value) {\n            this._value = null;\n        }\n        else {\n            var _localeKey = this._localeService.currentLocale;\n            var _locale = getLocale(_localeKey);\n            if (!_locale) {\n                throw new Error(\"Locale \\\"\" + _localeKey + \"\\\" is not defined, please add it with \\\"defineLocale(...)\\\"\");\n            }\n            var _input = [];\n            if (typeof value === 'string') {\n                _input = value.split(this._picker._config.rangeSeparator);\n            }\n            if (Array.isArray(value)) {\n                _input = value;\n            }\n            this._value = _input\n                .map(function (_val) {\n                return parseDate(_val, _this._picker._config.dateInputFormat, _this._localeService.currentLocale);\n            })\n                .map(function (date) { return (isNaN(date.valueOf()) ? null : date); });\n        }\n        this._picker.bsValue = this._value;\n    };\n    BsDaterangepickerInputDirective.prototype.setDisabledState = function (isDisabled) {\n        this._picker.isDisabled = isDisabled;\n        if (isDisabled) {\n            this._renderer.setAttribute(this._elRef.nativeElement, 'disabled', 'disabled');\n            return;\n        }\n        this._renderer.removeAttribute(this._elRef.nativeElement, 'disabled');\n    };\n    BsDaterangepickerInputDirective.prototype.registerOnChange = function (fn) {\n        this._onChange = fn;\n    };\n    BsDaterangepickerInputDirective.prototype.registerOnTouched = function (fn) {\n        this._onTouched = fn;\n    };\n    BsDaterangepickerInputDirective.prototype.onBlur = function () {\n        this._onTouched();\n    };\n    BsDaterangepickerInputDirective.prototype.hide = function () {\n        this._picker.hide();\n    };\n    return BsDaterangepickerInputDirective;\n}());\nexport { BsDaterangepickerInputDirective };\n//# sourceMappingURL=bs-daterangepicker-input.directive.js.map\n",null]}